<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <title>Strings</title>
</head>
<body bgcolor="#4682b4" text="#444">
<style>
    button {
        width: 99%;
        margin: 0.2%;
        height: 3em;
        font-family: cursive;
        font-size: medium;
    }
    div {
        padding:1%;
    }

</style>

<script>
   var global = this;
   var a = "";
   var b = 'This is a test string on which we\'ll try different string methods';
   var c = '3.14 Ali\'s '+'<br />';
   var splittedB = b.split('t');
   var e = '2sd';
   var f = 's';
   var email = "me@mail.com";
    var emailReg= /^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;
   if(emailReg.test(email)){
       console.log("email is fine");
   }
   var text = "This one is a test string for pattern testing: 1, 2 , 3";

   // Finds any number
   var pattern = /\d+/g;


    document.write(b+"<br>");
   document.write(text+"<br>");
</script>
<div style="background-color:burlywood "> <h3>chapter 3.1</h3>
<button onclick="console.log(b.length)"/>Length</button><br />
<button onclick="console.log(b.charAt(0))"/>charAt(0) </button><br />
<button onclick="console.log(b.charAt(b.length-1))"/> charAt(b.length-1) </button><br />
<button onclick="console.log(b.substring(1,4))"/>Substring 1-4 2nd, 3rd and 4th chars<br /> </button><br />
<button onclick="console.log(b.slice(1,4))"/>slice(1-4) same thing<br /> </button><br />
<button onclick="console.log(b.slice(-3))"/>slice(-3) last three chars<br /> </button><br />
<button onclick="console.log(b.indexOf('t'))"/>indexof('t') position of the frst letter t<br /> </button><br />
<button onclick="console.log(b.lastIndexOf('t'))"/>lastIndexOf('t') position of the last letter t<br /> </button><br />
<button onclick="console.log(b.indexOf('t',3))"/>indexof('t',3) position of the frst letter t at or after 3<br /> </button><br />
<button onclick="console.log(splittedB)"/> split at t </button><br />
<button onclick="console.log(b.replace('s', '#'))"/>replace("s","#")  (only changes the first one)<br /> </button><br />
<button onclick="console.log(b.replace(/s/g, '#'))"/>replace(/s/g,"#")(using regex key g it changes all of s chars<br /> </button><br />
<button onclick="console.log(b.toUpperCase())"/>b.uppercase<br /> </button><br />
</div>
<div style="background-color: lightcyan"> <h3>chapter 3.2</h3>
    <br />

    <button onclick="console.log(pattern.test(text))"/>pattern.test<br /> </button><br />
    <button onclick="console.log(text.search(pattern))"/>pattern.search (position of the first match) </button><br />
    <button onclick="console.log(text.match(pattern))"/>pattern.match </button><br />
</div>
<div style="background-color:beige"> <h3>chapter 3.3 , 3.4</h3>
    <script>
      var a = 4;bb= 2;
      if(a == 4) {
         bb=bb+ 1;
      } else {
          a = a + 1;
      }
    </script>
    <button onclick="console.log('a= '+ a + ' b= '+ b)"/> a andbbin if statement<br /> </button><br />
    var a = 4;bb= 2;
    if(a == 4) {
   bb=bb+ 1;
    } else {
    a = a + 1;
    }<br />
    <button onclick='alert("Six falsey values are: undefined, null, 0, -0, Nan, and empty string \&quot;\&quot; ")'/>Falsey Values<br /> </button><br />
    <button onclick='console.log(typeof(null))'/>typeof null<br /> </button><br />
    <button onclick='console.log(typeof(undefined))'/>typeof undefined<br /> </button><br />

</div>
    <div style="background-color:darkgray"> <h3>chapter 3.5</h3>
        <button onclick='console.log(global)'/>Print the Global Object's properties<br /> </button><br />
    </div>
    <div style="background-color:lightcyan"> <h3>chapter 3.7</h3>
        var o = {x:1}, p = {x:1};
        o === p => ?
        <script>
            function objectCompareByVal() {
                var o = {x:1}, p = {x:1};
                if(o !== p) {
                    console.log("Objects are not equal, even though they have the same properties.")
                }
            }
             function objectCompareByRef() {
                 var a = [];
                 var b = a;
                 b[0] = 1;
                if( a === b) {
                    console.log("Objects are equal when they point to the same value, reference the same thing");
                }
            }
            function objectCopier() {
                var a = ['a', 'b', 'c'];
                var b = [];
                console.log('a is ' + a + ' and b is ' + b + 'before the copy');
                for(var i in a) {
                    b[i] = a[i];
                }
                console.log('after the loop, b is ' + b);
            }

            function objectConverter() {
                var a = true + 5;
                console.log(a);
            }

            function numberConverter() {
                var n = 17;
                console.log(n.toString(2)+" "+ n.toString(8) + " " +n.toString(16));
            }
            function numberFormater() {
                var n = 17.27;
                console.log(n.toFixed(2));
            }
        </script>
        <br/>
        <button onclick='objectCompareByVal()'>Compare o and p objects by value<br /> </button><br />
        object values are references, and we say that
        objects are compared by reference: two object values are the same if and only if they
        refer to the same underlying object.
        <button onclick='objectCompareByRef()'>Compare o and p by reference<br /> </button><br />
       To copy an object, each value must be copied using a loop. <br />
       <button onclick='objectCopier()'> Copy a to b <br /> </button><br />

        true gets converted to 1 if added to a number! <br />
       <button onclick='objectConverter()'> add true to 5 <br /> </button><br />
        Type conversion idioms: <br />
        x + ""   // same as String(x) <br />
        +x       // same as Number(x)<br />
        !!x      // same as Boolean(x)<br />
        toString(base) can convert numbers to different bases <br/>
        <button onclick='numberConverter()'>show 17 in bases 2, 8 and 16 <br /> </button><br />
        toFixed(2) converts the number to a string with 2 decimal points <br/>
        toExponential() <br/>
        toPrecision() <br/>
        <button onclick='numberFormater()'> log n= 17.27 n.toFixed(2)  <br /> </button><br />

    </div>
    <div style="background-color:cadetblue"> <h3>chapter 3.10</h3>
        each time the outer function is called, the inner function is
        defined again. Since the scope chain differs on each invocation of the outer function,
        the inner function will be subtly different each time it is definedâ€”the code of the inner
        function will be identical on each invocation of the outer function, but the scope chain
        associated with that code will be different.
    </div>
    <div style="background-color:cornsilk"> <h3> You don't know JS, closures</h3>
        function foo(a) {
            var b = a;
            return a + b;
        }

        var c = foo( 2 );

        Engine: Hey scope I have an RHS for foo
        Scope: yes compiler defined it it's a function
        Engin and I have a LHS for c
        Scope: Yes it's a vriable.

    </div>
    <div style="background-color:aquamarine"> <h3>chapter 3.10</h3>
        expression.identifier <br>
        expression[ expression ] <br>
        object["property"] <br>
        document['createElement']('pre'); <br>
        var oObj = {x:1, y:{z:3}}; <br>
        var aObj = [o,4,[5,6]];
    <script>
        function obAccess(){
            var oObj = {x:1, y:{z:3}};
            var aObj = [0,4,[5,6]];
            console.log(aObj[2]["1"]);
        }
    </script>


    <button onclick='obAccess()'> aObj[2]["1"]</button><br />

    </div>
<div style="background-color:#50d964"> <h3>chapter 4.9.2 Relational</h3>
    use String.localeCompare() for strings <br>
    + operator favors strings, it converts to strings mostly. Comparison operator favors numbers, it only does string comparison only if both operands are strings <br>
    1 + 2  // 3 <br>
    "1" + 2 // "12" <br>
    11 < 3  // numeric comparison. false<br>
    "11" < 3 // numeric comparison, 11 is converted to number. false<br>
    "one" < 3  // "one" is converted to NaN, false<br>

    </div>

<div style="background-color:#f2f2f2"> <h3>chapter 4.9.3</h3>
    in operator asks for property in object, returns true if that property exists<br>
    var point = {x:1, y:1}<br>
    "x" in point // true <br>
    "z" in point   //  false<br>

</div>
<div style="background-color:#fccada"> <h3>chapter 4.9</h3>
    instnaceof accepts two operands, left one is an object, right one a class of objects<br>
    var d = new Date(); d instanceof Date; // true <br>
    d instanceof Object; // true<br>
    d instanceof Number; // false<br>
</div>
<div style="background-color:lightgray"> <h3>chapter 4.9 && and || and ?:</h3>
    && evaluates its first side, if it's false, whole thing's false, if it's true, the next one is tested, if false, false, if tre, true.<br>
    idiomatic use<br>
    if(a==b) stop(); will be the same as<br>
    (a==b) && stop(); <br>
    || operator evaluates it's left hand side, if it's truthy, it returns that, if not the other side is returned.<br />
    var max = max_width || prefreneces.max_width || 500; <br>

    i = j = k = 0 // is read from right to left, setting all to zero <br>
    If username exists, print it, if not print "there" <br>
    greeting = "hello " + (username ? username : "there");


</div>
<div style="background-color:#e6e2b0"> <h3> Professional ch 3 </h3>
    To free up memory you can optionally set oMyObect = null; when you're done with an object.
    <br/>
    var o = new Array; <br/>
    var o = new Array(); <br/>
    var o = new Array(20); <br/>
    var o = new Array("food", "drink", "play"); <br/>
    var o = ["food", "drink"]; <br/>
    if you assign at a faraway position, say at 25, all the members in between will be assigned null.
    <script>
    function arrayManager(a) {
        console.log("\n[+++++++++++++++++++++++++++++++++++++++++++++++++++++++]");
        console.log("\n the parameter passed in is: " +a);
        var sampleText = "I really should write a novel one day."
        var o = new Array;
        console.log(o);
        var o = new Array();
        console.log(o);
        var o = new Array(20);
        console.log(o);
        var o = new Array("firstMemberofO", "2ndMemberofO", "3rdMemberofO");
        console.log(o);
        var o = ["firstMemberofO", "2ndMemberofO", "3rdMemberofO"];
        console.log(o);
        o[25] = "25thMemberOfO";
        console.log(o);

        console.log(o.length);
        console.log("calling o.tostring brings us this finally: \n "+ o.toString() + " \n Let's see what funcs do with this array \n ");
        console.log("\n[+++++++++++++++++++++++++++++++++++++++++++++++++++++++]\n");
        switch (a) {
            case "join":
                console.log(o.join(" ***inBetWeen*** "));
                break;
            case "split":
                console.log(sampleText.split(" "));
                break;
            case "concat":
                console.log(o.concat("IGotConcatedToO","MeToo"));
                break;
            case "push":
                o.push("I got pushed");
                console.log("lenght-1 member, or the last member, of o now reads: "+o[o.length-1]);
                break;
            case "shift":
                console.log("the result of shift(): "+o.shift());
                console.log("after running shift() o becomes: "+o.toString());
                break;
            case "spliceRemove":
                console.log( o.splice(0,2) + " \n Array o after splice looks like:" + o +" \n Note:splice(0,2) starts at 0 and removes 2 elements.");
                break;
            case "spliceInsert":
                console.log(o.splice(2, 0, "newThirdMember", "newFourthMember")+"\n o looks like this after splice \n" + o);
                break;
            case "spliceRemoveInsert":
                o.splice(2, 1, "newThird");
                console.log(" \n Now array o looks like this: \n"+ o);
                break;
            default:
                console.log("\n no parametere came in! \n ")
            }

        }
     </script>
    <button onclick='arrayManager()'>Demo Array <br /> </button><br />
    <button onclick='arrayManager("join")'>join(" ***inBetWeen*** ");<br /> </button><br />
    <button onclick='arrayManager("split")'>split(" ");<br /> </button><br />
    <button onclick='arrayManager("concat")'>concat("IGotConcatedToO","MeToo");<br /> </button><br />
    <button onclick='arrayManager("push")'>push("I got pushed")<br /> </button><br />
    <button onclick='arrayManager("shift")'>o.shift() removes and returns the first member<br /> </button><br />
    <br/> With push and shift we can make a queue data structure. ['1st','2ed','3rd']. arr.push('4th')
    adds the 4th one into the the end of the array. And arr.shift(), takes the first member out.
    <button onclick='arrayManager("spliceRemove")'>o.splice(0,2) starts at 0 and removes and returns next two elements<br /> </button><br />
    <button onclick='arrayManager("spliceInsert")'>o.splice(2,0, "newThird", "newFourth") starts at 2, zero shows the number to delete, replaces the elements<br /> </button><br />
    <button onclick='arrayManager("spliceRemoveInsert")'>o.splice(2,1, "newThird") starts at 2, removes one element, inserts the newThird in there<br /> </button><br />

</div>

</div>
<div style="background-color:aquamarine"> <h3> Professional ch 3 Dates</h3>
   <script>
       function dateManager(param) {
        switch(param) {
            case "parse":
                var d = new Date(Date.parse("August 28, 1986"));
                console.log(d);
            break;
            case "UTC":
                var du = new Date(Date.UTC(1986, 7, 28, 9, 30));
                console.log(du);
                break;
            case "toLocaleString":
                var d = new Date(Date.parse("August 28, 1986"));
                    console.log(d.toLocaleString());
                break;
            case "timezonDiff":
                var dd = new Date();
                console.log("Time zone difference is: "+dd.getTimezoneOffset());
                break;
            case "isDST":
                var d1 = new Date(2004, 0, 1);
                var d2 = new Date(2004, 6, 1);
                var bSupportsDaylightSavingTime = d1.getTimezoneOffset() != d2.getTimezoneOffset();
                console.log(((bSupportsDaylightSavingTime)?"Yes":"NO"));
                console.log( "\n If different timezone offsets in jan and july, means DST is used");
            break;
        }

       }

   </script>
    <button onclick='dateManager("parse")'>new Date(Date.parse("August 28, 1986")) // parse returns mili secs <br /> </button><br />
    in UTC and Date only year and month are mandatory <br/>
    <button onclick='dateManager("UTC")'>new Date(Date.UTC(1986, 7 , 28, 18, 30)) UTC also returns mili secs, but in yyyy,mm,dd,hh,mm,ss format <br /> </button><br />
    <button onclick='dateManager("toLocaleString")'><br /> d.toLocaleString</button><br />
    <button onclick='dateManager("timezonDiff")'><br /> d.getTimezoneOffset() </button><br />
    <button onclick='dateManager("isDST")'><br /> Is dst used in your country? </button><br />
</div>
<div style="background-color:azure"> <h3> Objects </h3>
    <script>
        function playURI(param) {
            var sUri = "http://www.gik.fi/illegal value.html#start";
            var ecnodedCompUri = encodeURIComponent(sUri);
            switch(param) {
                case "encode":
                    console.log(encodeURI(sUri));
                    console.log(encodeURIComponent(sUri));
                break;
                case "decode":
                    console.log(decodeURI(ecnodedCompUri));
                    console.log(decodeURIComponent(ecnodedCompUri));
                break;

            }
        }
        function showColor() {
            console.log(this.color);
        }
        function createCar(sColor, iDoors, iMpg) {
            var oTempCar = new Object;
            oTempCar.color = sColor;
            oTempCar.doors = iDoors;
            oTempCar.mpg = iMpg;
            oTempCar.showColor = showColor;
            return oTempCar;
        }

        var oCar1 = createCar("read", 4, 23);
        var oCar2 = createCar("blue", 3, 25);
        oCar1.showColor();
        oCar2.showColor();

        function createCarWithPrototype() {

            // Using prototypes the above code will be
            function Car() {
            }

            Car.prototype.color = "Black";
            Car.prototype.doors = 4;
            Car.prototype.mpg = 23;
            Car.prototype.showColor = function () {
                console.log(this.color);
            };

            var oCar3 = new Car();
            var oCar4 = new Car();
            console.log(oCar3);
            console.log(oCar4);
        }
        function createCarWithPrototypeAndConstructor() {
            function Car(sColor, iDoors, iMpg) {
                this.color = sColor;
                this.doors = iDoors;
                this.mpg = iMpg;
                this.drivers = new Array("Mike", "Sue");
            }
            Car.prototype.showColor = function () {
                console.log(this.color);
            };
            var oCar1 = new Car('red',4, 23);
            var oCar2 = new Car('blue', 3, 25);
            oCar1.drivers.push('Matt');
            console.log(oCar1.drivers);
            console.log(oCar2.drivers);
        }

        function dynamicPrototypeMethod() {
            function Car(sColor, iDoors, iMpg) {
                this.color = sColor;
                this.doors = iDoors;
                this.mpg = iMpg;
                this.drivers = new Array("mike", "sue");

                if (typeof Car._initialized == "undefined") {
                    Car.prototype.showColor = function () {
                        console.log(this.color);
                    };

                    Car._initialized = true;
                }
            }
        }
    </script>
    <button onclick='playURI("encode")'> encodeURI and encodeURIComponent </button><br />
    encodeURIComponent kills full urls, it should be used only for after slash parts.
    <button onclick='playURI("decode")'> decodeURI and decodeURIComponent </button><br />
    Using Math.random in this format for generating integer values: Math.floor(Math.random() * 10 + 1) it returns a number between 1 and 10.
    <button onclick='createCar()'> Create a car object running createCar</button><br />
    <button onclick='createCarWithPrototype()'> Create a car object using prototype</button><br />
    <button onclick='createCarWithPrototypeAndConstructor()'> Create an object, define nonfunction properties by constructor and the functions (methods) by prototype</button><br />
    <button onclick='dynamicPrototypeMethod()'> Create car using dynamic prototype method</button><br />
</div>
</body>
</html>